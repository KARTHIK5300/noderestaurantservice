"use strict";var cov_2arx5bsu0b=function(){var path="C:\\Users\\m1048223\\Documents\\repoNode301\\nodejs301RepoProject\\OrderManagement\\src\\app\\config\\auth.js";var hash="34a41ef0f0eaa28339fc634e2237dfd82800e105";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\m1048223\\Documents\\repoNode301\\nodejs301RepoProject\\OrderManagement\\src\\app\\config\\auth.js",statementMap:{"0":{start:{line:1,column:28},end:{line:1,column:47}},"1":{start:{line:2,column:14},end:{line:2,column:32}},"2":{start:{line:3,column:10},end:{line:3,column:19}},"3":{start:{line:4,column:21},end:{line:4,column:57}},"4":{start:{line:5,column:20},end:{line:5,column:45}},"5":{start:{line:6,column:22},end:{line:6,column:44}},"6":{start:{line:7,column:22},end:{line:7,column:64}},"7":{start:{line:13,column:0},end:{line:15,column:33}},"8":{start:{line:18,column:0},end:{line:18,column:31}},"9":{start:{line:19,column:0},end:{line:19,column:28}},"10":{start:{line:22,column:0},end:{line:30,column:4}},"11":{start:{line:28,column:2},end:{line:28,column:23}},"12":{start:{line:29,column:2},end:{line:29,column:22}},"13":{start:{line:34,column:0},end:{line:37,column:3}},"14":{start:{line:35,column:2},end:{line:35,column:33}},"15":{start:{line:36,column:2},end:{line:36,column:19}},"16":{start:{line:40,column:0},end:{line:42,column:3}},"17":{start:{line:41,column:2},end:{line:41,column:19}},"18":{start:{line:45,column:0},end:{line:45,column:86}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:27,column:0},end:{line:27,column:1}},loc:{start:{line:27,column:52},end:{line:30,column:1}},line:27},"1":{name:"(anonymous_1)",decl:{start:{line:34,column:23},end:{line:34,column:24}},loc:{start:{line:34,column:45},end:{line:37,column:1}},line:34},"2":{name:"(anonymous_2)",decl:{start:{line:40,column:25},end:{line:40,column:26}},loc:{start:{line:40,column:47},end:{line:42,column:1}},line:40}},branchMap:{},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0},f:{"0":0,"1":0,"2":0},b:{},_coverageSchema:"43e27e138ebf9cfc5966b082cf9a028302ed4184",hash:"34a41ef0f0eaa28339fc634e2237dfd82800e105"};var coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}return coverage[path]=coverageData;}();var passport=(cov_2arx5bsu0b.s[0]++,require("passport"));var express=(cov_2arx5bsu0b.s[1]++,require('express'));var app=(cov_2arx5bsu0b.s[2]++,express());var GitHubStrategy=(cov_2arx5bsu0b.s[3]++,require('passport-github2').Strategy);var cookieSession=(cov_2arx5bsu0b.s[4]++,require('cookie-session'));var GITHUB_CLIENTID=(cov_2arx5bsu0b.s[5]++,"64f59de6ab0695e14017");var GITHUB_SECRETID=(cov_2arx5bsu0b.s[6]++,"74463de628baf3aa95f25d914d0e34c931ec97ea");//https://github.com/settings/applications/1191952
// cookieSession config
cov_2arx5bsu0b.s[7]++;app.use(cookieSession({maxAge:24*60*60*1000,// One day in milliseconds
keys:['randomstringhere']}));cov_2arx5bsu0b.s[8]++;app.use(passport.initialize());// Used to initialize passport
cov_2arx5bsu0b.s[9]++;app.use(passport.session());// Used to persist login sessions
cov_2arx5bsu0b.s[10]++;passport.use(new GitHubStrategy({clientID:GITHUB_CLIENTID,clientSecret:GITHUB_SECRETID,callbackURL:'http://localhost:3000/'},function(accessToken,refreshToken,profile,done){cov_2arx5bsu0b.f[0]++;cov_2arx5bsu0b.s[11]++;console.log(profile);cov_2arx5bsu0b.s[12]++;done(null,profile);// passes the profile data to serializeUser
}));cov_2arx5bsu0b.s[13]++;passport.serializeUser(function(user,done){cov_2arx5bsu0b.f[1]++;cov_2arx5bsu0b.s[14]++;console.log('from auth',user);cov_2arx5bsu0b.s[15]++;done(null,user);});// Used to decode the received cookie and persist session
cov_2arx5bsu0b.s[16]++;passport.deserializeUser(function(user,done){cov_2arx5bsu0b.f[2]++;cov_2arx5bsu0b.s[17]++;done(null,user);});cov_2arx5bsu0b.s[18]++;exports.gitHubAuthVerify=passport.authenticate('github',{scope:['user:email']});//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1dGguanMiXSwibmFtZXMiOlsicGFzc3BvcnQiLCJyZXF1aXJlIiwiZXhwcmVzcyIsImFwcCIsIkdpdEh1YlN0cmF0ZWd5IiwiU3RyYXRlZ3kiLCJjb29raWVTZXNzaW9uIiwiR0lUSFVCX0NMSUVOVElEIiwiR0lUSFVCX1NFQ1JFVElEIiwidXNlIiwibWF4QWdlIiwia2V5cyIsImluaXRpYWxpemUiLCJzZXNzaW9uIiwiY2xpZW50SUQiLCJjbGllbnRTZWNyZXQiLCJjYWxsYmFja1VSTCIsImFjY2Vzc1Rva2VuIiwicmVmcmVzaFRva2VuIiwicHJvZmlsZSIsImRvbmUiLCJjb25zb2xlIiwibG9nIiwic2VyaWFsaXplVXNlciIsInVzZXIiLCJkZXNlcmlhbGl6ZVVzZXIiLCJleHBvcnRzIiwiZ2l0SHViQXV0aFZlcmlmeSIsImF1dGhlbnRpY2F0ZSIsInNjb3BlIl0sIm1hcHBpbmdzIjoiYUFBQSxJQUFJQSxRQUFRLEdBQUdDLE9BQU8sQ0FBQyxVQUFELENBQXRCO0FBQ0EsSUFBTUMsT0FBTyxHQUFHRCxPQUFPLENBQUMsU0FBRCxDQUF2QjtBQUNBLElBQU1FLEdBQUcsR0FBR0QsT0FBTyxFQUFuQjtBQUNBLElBQUlFLGNBQWMsR0FBR0gsT0FBTyxDQUFDLGtCQUFELENBQVAsQ0FBNEJJLFFBQWpEO0FBQ0EsSUFBTUMsYUFBYSxHQUFHTCxPQUFPLENBQUMsZ0JBQUQsQ0FBN0I7QUFDQSxJQUFJTSxlQUFlLEdBQUcsc0JBQXRCO0FBQ0EsSUFBSUMsZUFBZSxHQUFHLDBDQUF0QjtBQUNDOzs7O0FBSUQ7QUFDQUwsR0FBRyxDQUFDTSxHQUFKLENBQVFILGFBQWEsQ0FBQztBQUNsQkksRUFBQUEsTUFBTSxFQUFFLEtBQUssRUFBTCxHQUFVLEVBQVYsR0FBZSxJQURMLEVBQ1c7QUFDN0JDLEVBQUFBLElBQUksRUFBRSxDQUFDLGtCQUFELENBRlksRUFBRCxDQUFyQjs7O0FBS0FSLEdBQUcsQ0FBQ00sR0FBSixDQUFRVCxRQUFRLENBQUNZLFVBQVQsRUFBUixFLENBQWdDO0FBQ2hDVCxHQUFHLENBQUNNLEdBQUosQ0FBUVQsUUFBUSxDQUFDYSxPQUFULEVBQVIsRSxDQUE2Qjs7O0FBRzVCYixRQUFRLENBQUNTLEdBQVQsQ0FBYSxJQUFJTCxjQUFKLENBQW1CO0FBQzdCVSxFQUFBQSxRQUFRLEVBQUVQLGVBRG1CO0FBRTdCUSxFQUFBQSxZQUFZLEVBQUVQLGVBRmU7QUFHN0JRLEVBQUFBLFdBQVcsRUFBRSx3QkFIZ0IsRUFBbkI7O0FBS2QsVUFBQ0MsV0FBRCxFQUFjQyxZQUFkLEVBQTRCQyxPQUE1QixFQUFxQ0MsSUFBckMsRUFBOEM7QUFDMUNDLEVBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZSCxPQUFaO0FBQ0FDLEVBQUFBLElBQUksQ0FBQyxJQUFELEVBQU9ELE9BQVAsQ0FBSixDQUYwQyxDQUVyQjtBQUN4QixDQVJhLENBQWI7Ozs7QUFZQW5CLFFBQVEsQ0FBQ3VCLGFBQVQsQ0FBdUIsVUFBQ0MsSUFBRCxFQUFPSixJQUFQLEVBQWdCO0FBQ25DQyxFQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWSxXQUFaLEVBQTBCRSxJQUExQjtBQUNESixFQUFBQSxJQUFJLENBQUMsSUFBRCxFQUFPSSxJQUFQLENBQUo7QUFDSCxDQUhBOztBQUtEO0FBQ0F4QixRQUFRLENBQUN5QixlQUFULENBQXlCLFVBQUNELElBQUQsRUFBT0osSUFBUCxFQUFnQjtBQUNyQ0EsRUFBQUEsSUFBSSxDQUFDLElBQUQsRUFBT0ksSUFBUCxDQUFKO0FBQ0gsQ0FGRDs7O0FBS0FFLE9BQU8sQ0FBQ0MsZ0JBQVIsR0FBMkIzQixRQUFRLENBQUM0QixZQUFULENBQXNCLFFBQXRCLEVBQWlDLEVBQUNDLEtBQUssRUFBRSxDQUFDLFlBQUQsQ0FBUixFQUFqQyxDQUEzQiIsInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXG0xMDQ4MjIzXFxEb2N1bWVudHNcXHJlcG9Ob2RlMzAxXFxub2RlanMzMDFSZXBvUHJvamVjdFxcT3JkZXJNYW5hZ2VtZW50XFxzcmNcXGFwcFxcY29uZmlnIiwic291cmNlc0NvbnRlbnQiOlsidmFyIHBhc3Nwb3J0ID0gcmVxdWlyZShcInBhc3Nwb3J0XCIpO1xyXG5jb25zdCBleHByZXNzID0gcmVxdWlyZSgnZXhwcmVzcycpO1xyXG5jb25zdCBhcHAgPSBleHByZXNzKCk7XHJcbnZhciBHaXRIdWJTdHJhdGVneSA9IHJlcXVpcmUoJ3Bhc3Nwb3J0LWdpdGh1YjInKS5TdHJhdGVneTtcclxuY29uc3QgY29va2llU2Vzc2lvbiA9IHJlcXVpcmUoJ2Nvb2tpZS1zZXNzaW9uJyk7XHJcbnZhciBHSVRIVUJfQ0xJRU5USUQgPSBcIjY0ZjU5ZGU2YWIwNjk1ZTE0MDE3XCI7XHJcbnZhciBHSVRIVUJfU0VDUkVUSUQgPSBcIjc0NDYzZGU2MjhiYWYzYWE5NWYyNWQ5MTRkMGUzNGM5MzFlYzk3ZWFcIjtcclxuIC8vaHR0cHM6Ly9naXRodWIuY29tL3NldHRpbmdzL2FwcGxpY2F0aW9ucy8xMTkxOTUyXHJcblxyXG5cclxuXHJcbi8vIGNvb2tpZVNlc3Npb24gY29uZmlnXHJcbmFwcC51c2UoY29va2llU2Vzc2lvbih7XHJcbiAgICBtYXhBZ2U6IDI0ICogNjAgKiA2MCAqIDEwMDAsIC8vIE9uZSBkYXkgaW4gbWlsbGlzZWNvbmRzXHJcbiAgICBrZXlzOiBbJ3JhbmRvbXN0cmluZ2hlcmUnXVxyXG59KSk7XHJcblxyXG5hcHAudXNlKHBhc3Nwb3J0LmluaXRpYWxpemUoKSk7IC8vIFVzZWQgdG8gaW5pdGlhbGl6ZSBwYXNzcG9ydFxyXG5hcHAudXNlKHBhc3Nwb3J0LnNlc3Npb24oKSk7IC8vIFVzZWQgdG8gcGVyc2lzdCBsb2dpbiBzZXNzaW9uc1xyXG5cclxuXHJcbiBwYXNzcG9ydC51c2UobmV3IEdpdEh1YlN0cmF0ZWd5KHtcclxuICAgIGNsaWVudElEOiBHSVRIVUJfQ0xJRU5USUQsXHJcbiAgICBjbGllbnRTZWNyZXQ6IEdJVEhVQl9TRUNSRVRJRCxcclxuICAgIGNhbGxiYWNrVVJMOiAnaHR0cDovL2xvY2FsaG9zdDozMDAwLydcclxufSxcclxuKGFjY2Vzc1Rva2VuLCByZWZyZXNoVG9rZW4sIHByb2ZpbGUsIGRvbmUpID0+IHtcclxuICAgIGNvbnNvbGUubG9nKHByb2ZpbGUpO1xyXG4gICAgZG9uZShudWxsLCBwcm9maWxlKTsgLy8gcGFzc2VzIHRoZSBwcm9maWxlIGRhdGEgdG8gc2VyaWFsaXplVXNlclxyXG59XHJcbikpO1xyXG5cclxuXHJcbiBwYXNzcG9ydC5zZXJpYWxpemVVc2VyKCh1c2VyLCBkb25lKSA9PiB7XHJcbiAgICAgY29uc29sZS5sb2coJ2Zyb20gYXV0aCcgLCB1c2VyKTtcclxuICAgIGRvbmUobnVsbCwgdXNlcik7XHJcbn0pO1xyXG5cclxuLy8gVXNlZCB0byBkZWNvZGUgdGhlIHJlY2VpdmVkIGNvb2tpZSBhbmQgcGVyc2lzdCBzZXNzaW9uXHJcbnBhc3Nwb3J0LmRlc2VyaWFsaXplVXNlcigodXNlciwgZG9uZSkgPT4ge1xyXG4gICAgZG9uZShudWxsLCB1c2VyKTtcclxufSk7XHJcblxyXG5cclxuZXhwb3J0cy5naXRIdWJBdXRoVmVyaWZ5ID0gcGFzc3BvcnQuYXV0aGVudGljYXRlKCdnaXRodWInICwge3Njb3BlOiBbJ3VzZXI6ZW1haWwnXX0pOyJdfQ==