"use strict";var cov_2c15pdovcf=function(){var path="C:\\Users\\m1048223\\Documents\\repoNode301\\nodejs301RepoProject\\OrderManagement\\src\\app\\controllers\\view-order.js";var hash="474b0311053dac1dfdaa6eebc83c51b664957852";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\m1048223\\Documents\\repoNode301\\nodejs301RepoProject\\OrderManagement\\src\\app\\controllers\\view-order.js",statementMap:{"0":{start:{line:1,column:42},end:{line:1,column:97}},"1":{start:{line:1,column:117},end:{line:1,column:178}},"2":{start:{line:1,column:191},end:{line:1,column:222}},"3":{start:{line:2,column:13},end:{line:2,column:30}},"4":{start:{line:3,column:13},end:{line:3,column:51}},"5":{start:{line:4,column:13},end:{line:4,column:41}},"6":{start:{line:6,column:64},end:{line:16,column:94}},"7":{start:{line:6,column:133},end:{line:16,column:91}},"8":{start:{line:6,column:144},end:{line:16,column:90}},"9":{start:{line:7,column:10},end:{line:7,column:30}},"10":{start:{line:8,column:10},end:{line:8,column:25}},"11":{start:{line:9,column:10},end:{line:9,column:45}},"12":{start:{line:10,column:10},end:{line:10,column:66}},"13":{start:{line:11,column:10},end:{line:11,column:28}},"14":{start:{line:11,column:28},end:{line:16,column:14}},"15":{start:{line:12,column:12},end:{line:12,column:50}},"16":{start:{line:12,column:23},end:{line:12,column:50}},"17":{start:{line:14,column:12},end:{line:14,column:34}},"18":{start:{line:15,column:12},end:{line:15,column:53}},"19":{start:{line:16,column:21},end:{line:16,column:48}},"20":{start:{line:16,column:66},end:{line:16,column:89}},"21":{start:{line:19,column:0},end:{line:19,column:28}}},fnMap:{"0":{name:"viewOrders",decl:{start:{line:6,column:9},end:{line:6,column:19}},loc:{start:{line:6,column:30},end:{line:16,column:95}},line:6},"1":{name:"viewOrders$",decl:{start:{line:6,column:110},end:{line:6,column:121}},loc:{start:{line:6,column:132},end:{line:16,column:92}},line:6},"2":{name:"(anonymous_2)",decl:{start:{line:11,column:198},end:{line:11,column:199}},loc:{start:{line:11,column:228},end:{line:16,column:11}},line:11}},branchMap:{"0":{loc:{start:{line:6,column:144},end:{line:16,column:90}},type:"switch",locations:[{start:{line:6,column:184},end:{line:16,column:14}},{start:{line:16,column:14},end:{line:16,column:48}},{start:{line:16,column:48},end:{line:16,column:55}},{start:{line:16,column:55},end:{line:16,column:89}}],line:6},"1":{loc:{start:{line:12,column:12},end:{line:12,column:50}},type:"if",locations:[{start:{line:12,column:12},end:{line:12,column:50}},{start:{line:12,column:12},end:{line:12,column:50}}],line:12}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0},f:{"0":0,"1":0,"2":0},b:{"0":[0,0,0,0],"1":[0,0]},_coverageSchema:"43e27e138ebf9cfc5966b082cf9a028302ed4184",hash:"474b0311053dac1dfdaa6eebc83c51b664957852"};var coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}return coverage[path]=coverageData;}();var _interopRequireDefault=(cov_2c15pdovcf.s[0]++,require("@babel/runtime/helpers/interopRequireDefault"));var _regenerator=(cov_2c15pdovcf.s[1]++,_interopRequireDefault(require("@babel/runtime/regenerator")));var order=(cov_2c15pdovcf.s[2]++,require("../model/order-model"));var moment=(cov_2c15pdovcf.s[3]++,require('moment'));var filter=(cov_2c15pdovcf.s[4]++,require("../controllers/query-helper"));var logger=(cov_2c15pdovcf.s[5]++,require("../config/winston"));function viewOrders(req,res){cov_2c15pdovcf.f[0]++;var restName,obj,d,viewOrders;cov_2c15pdovcf.s[6]++;return _regenerator["default"].async(function viewOrders$(_context){cov_2c15pdovcf.f[1]++;cov_2c15pdovcf.s[7]++;while(1){cov_2c15pdovcf.s[8]++;switch(_context.prev=_context.next){case 0:cov_2c15pdovcf.b[0][0]++;cov_2c15pdovcf.s[9]++;restName=req.body;cov_2c15pdovcf.s[10]++;obj=req.body;cov_2c15pdovcf.s[11]++;d=String(obj.date).split("T")[0];// {$in: restName.restaurentId} split("T")[0]; 
cov_2c15pdovcf.s[12]++;console.log('bodyValue',obj,d,restName.restaurentId);//filter(req) bodyValue ['5df58aa133832d8b58c9790d' , '5df5a6faf59998720c390e27']
cov_2c15pdovcf.s[13]++;_context.next=6;cov_2c15pdovcf.s[14]++;return _regenerator["default"].awrap(order.find({restaurentId:{$in:restName.restaurentId},date:{"$gte":new Date(d),$lt:new Date(moment(d).add(1,"days"))}},function(error,filterValue){cov_2c15pdovcf.f[2]++;cov_2c15pdovcf.s[15]++;if(error){cov_2c15pdovcf.b[1][0]++;cov_2c15pdovcf.s[16]++;throw Error(error.message);}else{cov_2c15pdovcf.b[1][1]++;}//logger.error("please enter valid value");
cov_2c15pdovcf.s[17]++;res.send(filterValue);cov_2c15pdovcf.s[18]++;logger.info("orders views successfully");}));case 6:cov_2c15pdovcf.b[0][1]++;cov_2c15pdovcf.s[19]++;viewOrders=_context.sent;case 7:cov_2c15pdovcf.b[0][2]++;case"end":cov_2c15pdovcf.b[0][3]++;cov_2c15pdovcf.s[20]++;return _context.stop();}}});}cov_2c15pdovcf.s[21]++;module.exports=viewOrders;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInZpZXctb3JkZXIuanMiXSwibmFtZXMiOlsib3JkZXIiLCJyZXF1aXJlIiwibW9tZW50IiwiZmlsdGVyIiwibG9nZ2VyIiwidmlld09yZGVycyIsInJlcSIsInJlcyIsInJlc3ROYW1lIiwiYm9keSIsIm9iaiIsImQiLCJTdHJpbmciLCJkYXRlIiwic3BsaXQiLCJjb25zb2xlIiwibG9nIiwicmVzdGF1cmVudElkIiwiZmluZCIsIiRpbiIsIkRhdGUiLCIkbHQiLCJhZGQiLCJlcnJvciIsImZpbHRlclZhbHVlIiwiRXJyb3IiLCJtZXNzYWdlIiwic2VuZCIsImluZm8iLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoibUxBQUEsSUFBTUEsS0FBSyxHQUFHQyxPQUFPLENBQUMsc0JBQUQsQ0FBckI7QUFDQSxJQUFNQyxNQUFNLEdBQUdELE9BQU8sQ0FBQyxRQUFELENBQXRCO0FBQ0EsSUFBTUUsTUFBTSxHQUFHRixPQUFPLENBQUMsNkJBQUQsQ0FBdEI7QUFDQSxJQUFNRyxNQUFNLEdBQUdILE9BQU8sQ0FBQyxtQkFBRCxDQUF0Qjs7QUFFQSxTQUFlSSxVQUFmLENBQTBCQyxHQUExQixFQUErQkMsR0FBL0I7QUFDUUMsVUFBQUEsUUFEUixHQUNtQkYsR0FBRyxDQUFDRyxJQUR2QjtBQUVRQyxVQUFBQSxHQUZSLEdBRWNKLEdBQUcsQ0FBQ0csSUFGbEI7QUFHUUUsVUFBQUEsQ0FIUixHQUdZQyxNQUFNLENBQUNGLEdBQUcsQ0FBQ0csSUFBTCxDQUFOLENBQWlCQyxLQUFqQixDQUF1QixHQUF2QixFQUE0QixDQUE1QixDQUhaLEVBR2dEO0FBQzlDQyxVQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWSxXQUFaLEVBQXlCTixHQUF6QixFQUErQkMsQ0FBL0IsRUFBa0NILFFBQVEsQ0FBQ1MsWUFBM0MsRUFKRixDQUkyRTtBQUozRSxpRUFLMkJqQixLQUFLLENBQUNrQixJQUFOLENBQVcsRUFBRUQsWUFBWSxFQUFDLEVBQUNFLEdBQUcsRUFBRVgsUUFBUSxDQUFDUyxZQUFmLEVBQWYsRUFBNkNKLElBQUksRUFBQyxFQUFDLFFBQVEsSUFBSU8sSUFBSixDQUFTVCxDQUFULENBQVQsRUFBc0JVLEdBQUcsRUFBRSxJQUFJRCxJQUFKLENBQVNsQixNQUFNLENBQUNTLENBQUQsQ0FBTixDQUFVVyxHQUFWLENBQWMsQ0FBZCxFQUFpQixNQUFqQixDQUFULENBQTNCLEVBQWxELEVBQVgsRUFBOEgsVUFBQ0MsS0FBRCxFQUFRQyxXQUFSLEVBQXdCO0FBQzdLLGdCQUFJRCxLQUFKLEVBQVcsTUFBTUUsS0FBSyxDQUFDRixLQUFLLENBQUNHLE9BQVAsQ0FBWDtBQUNYO0FBQ0FuQixZQUFBQSxHQUFHLENBQUNvQixJQUFKLENBQVNILFdBQVQ7QUFDQXBCLFlBQUFBLE1BQU0sQ0FBQ3dCLElBQVAsQ0FBWSwyQkFBWjtBQUNELFdBTHdCLENBTDNCLFNBS1F2QixVQUxSOzs7QUFhQXdCLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQnpCLFVBQWpCIiwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcbTEwNDgyMjNcXERvY3VtZW50c1xccmVwb05vZGUzMDFcXG5vZGVqczMwMVJlcG9Qcm9qZWN0XFxPcmRlck1hbmFnZW1lbnRcXHNyY1xcYXBwXFxjb250cm9sbGVycyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IG9yZGVyID0gcmVxdWlyZShcIi4uL21vZGVsL29yZGVyLW1vZGVsXCIpO1xyXG5jb25zdCBtb21lbnQgPSByZXF1aXJlKCdtb21lbnQnKTtcclxuY29uc3QgZmlsdGVyID0gcmVxdWlyZShcIi4uL2NvbnRyb2xsZXJzL3F1ZXJ5LWhlbHBlclwiKTtcclxuY29uc3QgbG9nZ2VyID0gcmVxdWlyZShcIi4uL2NvbmZpZy93aW5zdG9uXCIpO1xyXG5cclxuYXN5bmMgZnVuY3Rpb24gdmlld09yZGVycyhyZXEsIHJlcykge1xyXG4gIGNvbnN0IHJlc3ROYW1lID0gcmVxLmJvZHk7IFxyXG4gIGNvbnN0IG9iaiA9IHJlcS5ib2R5OyAgIFxyXG4gIGNvbnN0wqBkwqA9wqBTdHJpbmcob2JqLmRhdGUpLnNwbGl0KFwiVFwiKVswXTsgICAgIC8vIHskaW46IHJlc3ROYW1lLnJlc3RhdXJlbnRJZH0gc3BsaXQoXCJUXCIpWzBdOyBcclxuICBjb25zb2xlLmxvZygnYm9keVZhbHVlJywgb2JqICwgZCwgcmVzdE5hbWUucmVzdGF1cmVudElkKTsgICAgICAgICAgICAgICAgLy9maWx0ZXIocmVxKSBib2R5VmFsdWUgWyc1ZGY1OGFhMTMzODMyZDhiNThjOTc5MGQnICwgJzVkZjVhNmZhZjU5OTk4NzIwYzM5MGUyNyddXHJcbiAgY29uc3Qgdmlld09yZGVycyA9IGF3YWl0IG9yZGVyLmZpbmQoeyByZXN0YXVyZW50SWQ6eyRpbjogcmVzdE5hbWUucmVzdGF1cmVudElkfSwgZGF0ZTp7XCIkZ3RlXCI6wqBuZXfCoERhdGUoZCkswqAkbHQ6wqBuZXfCoERhdGUobW9tZW50KGQpLmFkZCgxLMKgXCJkYXlzXCIpKX19LCAoZXJyb3IsIGZpbHRlclZhbHVlKSA9PiB7XHJcbiAgICBpZiAoZXJyb3IpIHRocm93IEVycm9yKGVycm9yLm1lc3NhZ2UpO1xyXG4gICAgLy9sb2dnZXIuZXJyb3IoXCJwbGVhc2UgZW50ZXIgdmFsaWQgdmFsdWVcIik7XHJcbiAgICByZXMuc2VuZChmaWx0ZXJWYWx1ZSk7XHJcbiAgICBsb2dnZXIuaW5mbyhcIm9yZGVycyB2aWV3cyBzdWNjZXNzZnVsbHlcIilcclxuICB9KTtcclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB2aWV3T3JkZXJzO1xyXG5cclxuIFxyXG4iXX0=