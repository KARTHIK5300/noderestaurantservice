{"version":3,"sources":["auth.js"],"names":["passport","require","express","app","GitHubStrategy","Strategy","cookieSession","GITHUB_CLIENTID","GITHUB_SECRETID","use","maxAge","keys","initialize","session","clientID","clientSecret","callbackURL","accessToken","refreshToken","profile","done","console","log","serializeUser","user","deserializeUser","exports","gitHubAuthVerify","authenticate","scope"],"mappings":"aAAA,IAAIA,QAAQ,GAAGC,OAAO,CAAC,UAAD,CAAtB;AACA,IAAMC,OAAO,GAAGD,OAAO,CAAC,SAAD,CAAvB;AACA,IAAME,GAAG,GAAGD,OAAO,EAAnB;AACA,IAAIE,cAAc,GAAGH,OAAO,CAAC,kBAAD,CAAP,CAA4BI,QAAjD;AACA,IAAMC,aAAa,GAAGL,OAAO,CAAC,gBAAD,CAA7B;AACA,IAAIM,eAAe,GAAG,sBAAtB;AACA,IAAIC,eAAe,GAAG,0CAAtB;AACC;;;;AAID;AACAL,GAAG,CAACM,GAAJ,CAAQH,aAAa,CAAC;AAClBI,EAAAA,MAAM,EAAE,KAAK,EAAL,GAAU,EAAV,GAAe,IADL,EACW;AAC7BC,EAAAA,IAAI,EAAE,CAAC,kBAAD,CAFY,EAAD,CAArB;;;AAKAR,GAAG,CAACM,GAAJ,CAAQT,QAAQ,CAACY,UAAT,EAAR,E,CAAgC;AAChCT,GAAG,CAACM,GAAJ,CAAQT,QAAQ,CAACa,OAAT,EAAR,E,CAA6B;;;AAG5Bb,QAAQ,CAACS,GAAT,CAAa,IAAIL,cAAJ,CAAmB;AAC7BU,EAAAA,QAAQ,EAAEP,eADmB;AAE7BQ,EAAAA,YAAY,EAAEP,eAFe;AAG7BQ,EAAAA,WAAW,EAAE,wBAHgB,EAAnB;;AAKd,UAACC,WAAD,EAAcC,YAAd,EAA4BC,OAA5B,EAAqCC,IAArC,EAA8C;AAC1CC,EAAAA,OAAO,CAACC,GAAR,CAAYH,OAAZ;AACAC,EAAAA,IAAI,CAAC,IAAD,EAAOD,OAAP,CAAJ,CAF0C,CAErB;AACxB,CARa,CAAb;;;;AAYAnB,QAAQ,CAACuB,aAAT,CAAuB,UAACC,IAAD,EAAOJ,IAAP,EAAgB;AACnCC,EAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ,EAA0BE,IAA1B;AACDJ,EAAAA,IAAI,CAAC,IAAD,EAAOI,IAAP,CAAJ;AACH,CAHA;;AAKD;AACAxB,QAAQ,CAACyB,eAAT,CAAyB,UAACD,IAAD,EAAOJ,IAAP,EAAgB;AACrCA,EAAAA,IAAI,CAAC,IAAD,EAAOI,IAAP,CAAJ;AACH,CAFD;;;AAKAE,OAAO,CAACC,gBAAR,GAA2B3B,QAAQ,CAAC4B,YAAT,CAAsB,QAAtB,EAAiC,EAACC,KAAK,EAAE,CAAC,YAAD,CAAR,EAAjC,CAA3B","sourceRoot":"C:\\Users\\m1048223\\Documents\\repoNode301\\nodejs301RepoProject\\OrderManagement\\src\\app\\config","sourcesContent":["var passport = require(\"passport\");\r\nconst express = require('express');\r\nconst app = express();\r\nvar GitHubStrategy = require('passport-github2').Strategy;\r\nconst cookieSession = require('cookie-session');\r\nvar GITHUB_CLIENTID = \"64f59de6ab0695e14017\";\r\nvar GITHUB_SECRETID = \"74463de628baf3aa95f25d914d0e34c931ec97ea\";\r\n //https://github.com/settings/applications/1191952\r\n\r\n\r\n\r\n// cookieSession config\r\napp.use(cookieSession({\r\n    maxAge: 24 * 60 * 60 * 1000, // One day in milliseconds\r\n    keys: ['randomstringhere']\r\n}));\r\n\r\napp.use(passport.initialize()); // Used to initialize passport\r\napp.use(passport.session()); // Used to persist login sessions\r\n\r\n\r\n passport.use(new GitHubStrategy({\r\n    clientID: GITHUB_CLIENTID,\r\n    clientSecret: GITHUB_SECRETID,\r\n    callbackURL: 'http://localhost:3000/'\r\n},\r\n(accessToken, refreshToken, profile, done) => {\r\n    console.log(profile);\r\n    done(null, profile); // passes the profile data to serializeUser\r\n}\r\n));\r\n\r\n\r\n passport.serializeUser((user, done) => {\r\n     console.log('from auth' , user);\r\n    done(null, user);\r\n});\r\n\r\n// Used to decode the received cookie and persist session\r\npassport.deserializeUser((user, done) => {\r\n    done(null, user);\r\n});\r\n\r\n\r\nexports.gitHubAuthVerify = passport.authenticate('github' , {scope: ['user:email']});"]}